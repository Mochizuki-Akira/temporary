<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>講義パスゲート｜学習小屋</title>
  <link rel="stylesheet" href="../common/style.css" />
  <style>
    .gate { max-width: 520px; margin: 0 auto; text-align: center; }
    .gate input[type="password"]{
      width: 100%; padding: 12px 14px; font-size: 1rem;
      border: 1px solid var(--color-border); border-radius: 10px;
    }
    .msg { margin-top: 12px; font-size: var(--fs-sm); color: #c0392b; min-height: 1.2em; }
  </style>
</head>
<body>
  <div id="site-header"></div>

  <main class="site-main">
    <section class="card gate">
      <h2>学生用講義ファイル（パスゲート）</h2>
      <p class="text-muted">パスワードを入力すると、対応する講義リストページに移動します。</p>

      <form id="gateForm" class="mt-5">
        <input type="password" id="pass" placeholder="パスワードを入力" autocomplete="current-password" />
        <div style="display:flex; gap:12px; justify-content:center; margin-top:16px;">
          <button type="submit" class="btn-outline btn--md">→ 入室</button>
          <button type="button" id="homeBtn" class="btn-outline btn--md" onclick="location.href='./index.html'">← 化学トップ</button>
        </div>
        <div id="msg" class="msg"></div>
      </form>
    </section>
  </main>

  <div id="site-footer"></div>

  <script>
    // 共通ヘッダー/フッター
    (async () => {
      const hdr = await fetch('../common/header.html').then(r => r.text()).catch(() => '');
      const ftr = await fetch('../common/footer.html').then(r => r.text()).catch(() => '');
      document.getElementById('site-header').innerHTML = hdr;
      document.getElementById('site-footer').innerHTML = ftr;
    })();

    // パスワード → リストページ
    const ROUTES = {
      '2507SC': 'list-2507.html',
      '2510JC': 'list-2510.html'
    };

    document.getElementById('gateForm').addEventListener('submit', e => {
      e.preventDefault();
      const p = document.getElementById('pass').value.trim();
      const msg = document.getElementById('msg');
      if (ROUTES[p]) {
        msg.textContent = '';
        location.href = ROUTES[p];
      } else {
        msg.textContent = 'パスワードが違います。';
      }
    });
  </script>
</body>
</html>
